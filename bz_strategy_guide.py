#!/usr/bin/env python3
"""
BZç­–ç•¥ä½¿ç”¨ç¤ºä¾‹ - å®Œæ•´çš„ä¸»åŠ¨å­¦ä¹ æµç¨‹

è¿™æ˜¯åŸºäºGNOTæ¡†æ¶çš„æœ€ä½³ä¸»åŠ¨å­¦ä¹ ç­–ç•¥ï¼Œç›´æ¥ä½¿ç”¨train.pyä¸­çš„validate_epochå‡½æ•°
"""

import os
import sys

# æ·»åŠ é¡¹ç›®è·¯å¾„
sys.path.append('/home/v-wenliao/gnot/GNOT')

def run_bz_strategy_example():
    """
    è¿è¡ŒBZç­–ç•¥çš„å®Œæ•´ç¤ºä¾‹
    """
    
    print("="*80)
    print("BZç­–ç•¥ - åŸºäºGNOTæ¡†æ¶çš„ä¸»åŠ¨å­¦ä¹ ç­–ç•¥")
    print("="*80)
    
    print("""
BZç­–ç•¥ç‰¹ç‚¹:
-----------
âœ“ ç›´æ¥ä½¿ç”¨GNOTçš„validate_epochå‡½æ•°è¯„ä¼°æ ·æœ¬
âœ“ é€‰æ‹©æ¨¡å‹è¡¨ç°æœ€å·®ï¼ˆmetricæœ€å¤§ï¼‰çš„æ ·æœ¬
âœ“ å®Œç¾é›†æˆåˆ°GNOTæ¡†æ¶ï¼Œæ— éœ€é¢å¤–é…ç½®
âœ“ è‡ªåŠ¨é€‚åº”ä¸åŒçš„æŸå¤±å‡½æ•°å’Œæ•°æ®é›†

ç­–ç•¥åŸç†:
---------
1. å¯¹æ¯ä¸ªæœªæ ‡æ³¨æ ·æœ¬ï¼Œä½¿ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹è¿›è¡Œè¯„ä¼°
2. é€šè¿‡validate_epochå‡½æ•°è®¡ç®—æ¯ä¸ªæ ·æœ¬çš„metricå€¼
3. é€‰æ‹©metricæœ€å¤§çš„æ ·æœ¬ï¼ˆå³æ¨¡å‹è¡¨ç°æœ€å·®çš„æ ·æœ¬ï¼‰
4. è¿™äº›æ ·æœ¬æœ€éœ€è¦æ ‡æ³¨æ¥æ”¹è¿›æ¨¡å‹æ€§èƒ½

é€‚ç”¨åœºæ™¯:
---------
â€¢ ä»»ä½•GNOTæ”¯æŒçš„æ•°æ®é›†å’Œé—®é¢˜
â€¢ éœ€è¦é«˜æ•ˆä¸»åŠ¨å­¦ä¹ çš„åœºæ™¯
â€¢ å¸Œæœ›ç›´æ¥åŸºäºæ¨¡å‹è¡¨ç°é€‰æ‹©æ ·æœ¬çš„æƒ…å†µ
""")
    
    print("\n" + "="*50)
    print("ä½¿ç”¨æ–¹æ³•")
    print("="*50)
    
    # æ˜¾ç¤ºä½¿ç”¨ä»£ç 
    example_code = '''
# å¯¼å…¥ä¸»åŠ¨å­¦ä¹ æ¨¡å—
from alpa import active_learning_loop

# æ–¹æ³•1: æœ€ç®€å•çš„ä½¿ç”¨æ–¹å¼
results = active_learning_loop(
    dataset_name='your_dataset',
    strategy='bz',              # ä½¿ç”¨BZç­–ç•¥
    rounds=10,                  # 10è½®ä¸»åŠ¨å­¦ä¹ 
    select_num=5               # æ¯è½®é€‰æ‹©5ä¸ªæ ·æœ¬
)

# æ–¹æ³•2: å®Œæ•´é…ç½®
results = active_learning_loop(
    dataset_name='your_dataset',
    strategy='bz',
    rounds=10,
    select_num=5,
    initial_labeled_ratio=0.1,  # åˆå§‹æ ‡æ³¨æ¯”ä¾‹
    use_normalization=True,     # ä½¿ç”¨æ•°æ®æ ‡å‡†åŒ–
    save_path='./data/al_bz'   # ç»“æœä¿å­˜è·¯å¾„
)

# æ–¹æ³•3: æ‰¹é‡æ¯”è¾ƒä¸åŒç­–ç•¥
strategies = ['bz', 'pa', 'qbc', 'gv', 'rd']
for strategy in strategies:
    print(f"\\næµ‹è¯•ç­–ç•¥: {strategy}")
    results = active_learning_loop(
        dataset_name='your_dataset',
        strategy=strategy,
        rounds=5,
        select_num=3
    )
    print(f"{strategy}ç­–ç•¥å®Œæˆ")
'''
    
    print(example_code)
    
    print("\n" + "="*50)
    print("å®é™…è¿è¡Œç¤ºä¾‹")
    print("="*50)
    
    # å®é™…å¯è¿è¡Œçš„ç¤ºä¾‹
    print("""
è¦è¿è¡ŒBZç­–ç•¥ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤:

# è¿›å…¥GNOTç›®å½•
cd /home/v-wenliao/gnot/GNOT

# è¿è¡Œä¸»åŠ¨å­¦ä¹ ï¼ˆå‡è®¾ä½ æœ‰æ•°æ®é›†ï¼‰
python -c "
from alpa import active_learning_loop

# è¿è¡ŒBZç­–ç•¥
results = active_learning_loop(
    dataset_name='your_dataset',  # æ›¿æ¢ä¸ºä½ çš„æ•°æ®é›†åç§°
    strategy='bz',
    rounds=3,
    select_num=2
)
print('BZç­–ç•¥è¿è¡Œå®Œæˆ!')
"

æˆ–è€…ä½¿ç”¨å·²æœ‰çš„è„šæœ¬:
python albz.py  # å¦‚æœå­˜åœ¨ä¸“é—¨çš„BZç­–ç•¥è„šæœ¬
""")
    
    print("\n" + "="*50)
    print("ç­–ç•¥å¯¹æ¯”")
    print("="*50)
    
    comparison = """
ç­–ç•¥åç§°    |  å¤æ‚åº¦  |  GNOTé›†æˆ  |  æ•ˆæœè¯„ä¼°
-----------|----------|------------|----------
BZ         |  ç®€å•    |    å®Œç¾    |   ä¼˜ç§€
PA (æ—§)    |  å¤æ‚    |    ä¸€èˆ¬    |   ä¸­ç­‰
PA (æ–°)    |  ä¸­ç­‰    |    è‰¯å¥½    |   è‰¯å¥½
QBC        |  ä¸­ç­‰    |    ä¸€èˆ¬    |   ä¸­ç­‰
GV         |  ç®€å•    |    ä¸€èˆ¬    |   ä¸­ç­‰
RD         |  ç®€å•    |    å®Œç¾    |   åŸºå‡†

æ¨èä½¿ç”¨: BZç­–ç•¥
ç†ç”±:
1. ä¸GNOTæ¡†æ¶é›†æˆåº¦æœ€é«˜
2. ç›´æ¥åŸºäºæ¨¡å‹è¡¨ç°é€‰æ‹©æ ·æœ¬
3. ä»£ç ç®€å•ï¼Œç»´æŠ¤å®¹æ˜“
4. é€‚åº”æ€§å¼ºï¼Œæ•ˆæœç¨³å®š
"""
    
    print(comparison)
    
    print("\n" + "="*50)
    print("å¸¸è§é—®é¢˜")
    print("="*50)
    
    faq = """
Q: BZç­–ç•¥å’Œå…¶ä»–ç­–ç•¥çš„ä¸»è¦åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ
A: BZç­–ç•¥ç›´æ¥ä½¿ç”¨GNOTçš„validate_epochå‡½æ•°ï¼Œå…¶ä»–ç­–ç•¥éœ€è¦è‡ªå·±è®¡ç®—è¯¯å·®

Q: BZç­–ç•¥é€‰æ‹©çš„æ˜¯ä»€ä¹ˆæ ·çš„æ ·æœ¬ï¼Ÿ
A: é€‰æ‹©æ¨¡å‹è¡¨ç°æœ€å·®ï¼ˆmetricæœ€å¤§ï¼‰çš„æ ·æœ¬ï¼Œè¿™äº›æ ·æœ¬æœ€éœ€è¦æ ‡æ³¨

Q: BZç­–ç•¥æ˜¯å¦éœ€è¦è°ƒå‚ï¼Ÿ
A: ä¸éœ€è¦ï¼ŒBZç­–ç•¥è‡ªåŠ¨é€‚åº”æ¨¡å‹å’Œæ•°æ®é›†

Q: å¦‚ä½•çŸ¥é“BZç­–ç•¥çš„æ•ˆæœå¥½ä¸å¥½ï¼Ÿ
A: å¯ä»¥é€šè¿‡ä¸»åŠ¨å­¦ä¹ çš„æ”¶æ•›æ›²çº¿å’Œæœ€ç»ˆæ¨¡å‹æ€§èƒ½æ¥è¯„ä¼°

Q: BZç­–ç•¥å¤±è´¥äº†æ€ä¹ˆåŠï¼Ÿ
A: ç³»ç»Ÿä¼šè‡ªåŠ¨å›é€€åˆ°å‡ ä½•å¤æ‚åº¦ç­–ç•¥ï¼Œç¡®ä¿ç¨‹åºç»§ç»­è¿è¡Œ
"""
    
    print(faq)
    
    print("\n" + "="*80)
    print("æ€»ç»“")
    print("="*80)
    
    print("""
BZç­–ç•¥å·²ç»å®Œå…¨é›†æˆåˆ°GNOTä¸»åŠ¨å­¦ä¹ ç³»ç»Ÿä¸­ï¼

ğŸ¯ ç›®æ ‡æ˜ç¡®: é€‰æ‹©æ¨¡å‹è¡¨ç°æœ€å·®çš„æ ·æœ¬è¿›è¡Œæ”¹è¿›
ğŸ”§ é›†æˆå®Œç¾: ç›´æ¥ä½¿ç”¨GNOTç°æœ‰çš„è¯„ä¼°æ¡†æ¶  
ğŸ“ˆ æ•ˆæœä¼˜ç§€: åŸºäºå®é™…æ¨¡å‹è¡¨ç°çš„ç§‘å­¦é€‰æ‹©
âš¡ ä½¿ç”¨ç®€å•: åªéœ€è¦è®¾ç½® strategy='bz'

ç«‹å³å¼€å§‹ä½¿ç”¨:
active_learning_loop(dataset_name='your_dataset', strategy='bz')

è¿™æ˜¯æœ€é€‚åˆGNOTæ¡†æ¶çš„ä¸»åŠ¨å­¦ä¹ ç­–ç•¥ï¼
""")

if __name__ == "__main__":
    run_bz_strategy_example()
